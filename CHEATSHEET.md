# üìù –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```bash
./analyze.sh –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.jpg
```

### –ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ
```bash
./analyze.sh –≤–∏–¥–µ–æ.mp4 --video
```

### GUI
```bash
.venv/bin/python main.py
```

---

## üéØ –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
```bash
./analyze.sh image.jpg --confidence 0.6
```

### –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ —Å–µ—Ç–∫–∏
```bash
./analyze.sh image.jpg --net-method hough      # —á–µ—Ç–∫–∏–µ –ª–∏–Ω–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
./analyze.sh image.jpg --net-method contour    # —è–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
./analyze.sh image.jpg --net-method color      # –±–µ–ª–∞—è —Å–µ—Ç–∫–∞
```

### –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```bash
./analyze.sh image.jpg --output result.jpg
```

### –í—Å–µ –≤–º–µ—Å—Ç–µ
```bash
./analyze.sh image.jpg --confidence 0.6 --net-method hough --output result.jpg
```

---

## üìÅ –í–∞–∂–Ω—ã–µ –ø—É—Ç–∏

**–ú–æ–¥–µ–ª—å:**
```
runs/detect/ball_detector_quick/weights/best.pt
```

**–¢–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```
datasets/merged_ball_dataset/images/test/test_*.jpg
```

**–î–∞—Ç–∞—Å–µ—Ç:**
```
datasets/merged_ball_dataset/
```

---

## üîß –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ (–≤–∞–∂–Ω–æ!)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ —Ä–∞–∑–º–µ—Ä–∞ –º—è—á–∞
```bash
.venv/bin/python calibrate_thresholds.py
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –º—è—á–µ–π –≤ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏
- –ù—É–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å `position_analyzer.py`

### –ï—Å–ª–∏ –ø–æ—Ä–æ–≥–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ `position_analyzer.py` (—Å—Ç—Ä–æ–∫–∏ ~169-170) –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
```python
size_threshold_far = XX   # –ò–∑ –≤—ã–≤–æ–¥–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
size_threshold_near = YY  # –ò–∑ –≤—ã–≤–æ–¥–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
```

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö

### CLI –Ω–∞–ø—Ä—è–º—É—é
```bash
.venv/bin/python cli.py image.jpg \
    --model runs/detect/ball_detector_quick/weights/best.pt \
    --confidence 0.5 \
    --net-method hough
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```bash
for img in folder/*.jpg; do ./analyze.sh "$img"; done
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
```bash
.venv/bin/python test_app.py
```

### –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
```bash
./start_training.sh
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| mAP50 | 99.50% |
| mAP50-95 | 93.62% |
| Precision | 99.59% |
| Recall | 99.61% |

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

**–ü–æ–¥–ø–∏—Å–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º:**
- üî¥ **"behind the net"** - –º—è—á –∑–∞ —Å–µ—Ç–∫–æ–π (–≤ –≤–æ—Ä–æ—Ç–∞—Ö)
- üü¢ **"front of the net"** - –º—è—á –ø–µ—Ä–µ–¥ —Å–µ—Ç–∫–æ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**
- –†–∞–∑–º–µ—Ä –º—è—á–∞ (50%)
- –û–∫–∫–ª—é–∑–∏—è —Å–µ—Ç–∫–æ–π (–¥–æ 50%)
- Y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (15-20%)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|------|------------|
| **SUCCESS.md** | üéâ –ò—Ç–æ–≥–∏ –ø—Ä–æ–µ–∫—Ç–∞ |
| **MODEL_RESULTS.md** | üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–¥–µ–ª–∏ |
| **README.md** | üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| **EXAMPLES.md** | üí° –ü—Ä–∏–º–µ—Ä—ã |
| **CHEATSHEET.md** | üìù –≠—Ç–∞ –ø–∞–º—è—Ç–∫–∞ |

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

**–ú—è—á –Ω–µ –Ω–∞–π–¥–µ–Ω:** `--confidence 0.3`  
**–°–µ—Ç–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:** `--net-method contour` –∏–ª–∏ `color`  
**–ú–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π:** `--confidence 0.7`

---

_–î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Å–º. SUCCESS.md –∏–ª–∏ README.md_
